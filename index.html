<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Future-Proofing Ruby Gems: Strategies for Long-Term Maintenance</title>

    <link rel="stylesheet" type="text/css" href="MyFontsWebfontsKit.css">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme.css" id="theme">
    <link rel="stylesheet" href="css/custom.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section class="light" data-background-repeat="repeat" data-background-color="#e1dbbd">
          <img src="img/boom.png" style="border: 1px solid #bcbec0; padding: 10px; width: 35%; background: none;"/>
          <h3>Future-Proofing Ruby Gems</h3>
          <h4>Strategies for Long-Term Maintenance</h4>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
The point of this talk is <span class="hl">not</span> for me to reach the end of of it.
          </p>
          <p>
The point is for me to <span class="hl">teach</span> you something.
          </p>
          <p>
            So if I lose you at any point, interrupt me <span class="hl">immediately</span>.
          </p>
          <p>
            I <span class="hl">love</span> questions.
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h2>$ whoami</h2>

          <p>
            <span class="hl">Maciej Mensfeld</span>
          </p>

            <ul>
              <li>
                I work @ Mend.io
              </li>
              <li>
                I do and analyze OSS
              </li>
            </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>
            What do I hope to leave you with
          </h3>

          <ul>
    <li>OSS is <span class="hl">fun</span>!</li>
    <li class="fragment">Maintaining gems <span class="hl">is</span> doable</li>
    <li class="fragment">OSS <span class="hl">connects</span></li>
    <li class="fragment">Innovation does <span class="hl">not</span> contradict maintainability</li>
</ul>

        <section class="light" data-background-color="#e1dbbd">
            <img src="img/sad.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>
          </section>


        </section>
        <section class="dark" data-background-color="#082a3d">
            <img src="img/you.jpg" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>
          </section>


        <section class="light" data-background-color="#e1dbbd">
          <h3>Agenda</h3>

          <ul>
            <li>
                <span class="hl">Introduction & OSS Development Trends</span>
            </li>
            <li>
                <span class="hl">Ruby Gems Development Dynamics</span>
            </li>
          </ul>

  <aside class="notes">
          <ul>
            <li>
                Introduction & OSS Development Trends
                <ul>
                    <li>My Journey with Ruby Gems</li>
                    <li>The Evolving Landscape</li>
                </ul>
            </li>
            <li>
                Ruby Gems Development Dynamics
                <ul>
                    <li>Rails Influence & Integration</li>
                    <li>Dependency Management & Self-Reliance</li>
                    <li>Architectural Foundations for Longevity</li>
                </ul>
            </li>
          </ul>
  </aside>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li><span class="hl">Advanced Considerations</span>
            </li>
            <li>
                <span class="hl">Forward-Thinking Practices & Legal Aspects</span>
            </li>
          </ul>

  <aside class="notes">
          <ul>
            <li>
              Advanced Considerations
                <ul>
                    <li>UI/UX & Internal Structures</li>
                    <li>Testing Strategies for Robustness</li>
                    <li>Telemetry, Security, & User Feedback</li>
                </ul>
            </li>
            <li>
                Forward-Thinking Practices & Legal Aspects
                <ul>
                    <li>Licensing, Dev Experience, & Compliance</li>
                    <li>Conclusion: Balancing Innovation with Sustainability</li>
                </ul>
            </li>
          </ul>
</aside>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <blockquote>
            Every good work of software starts by scratching a developer's personal itch.
          </blockquote>

          <small>Eric Raymond, The Cathedral and the Bazaar </small>

          <aside class="notes">
            My journey with OSS
          </aside>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>I am not different</li>
            <li class="fragment">First gem 13 years ago (2011)</li>
            <li class="fragment">Bad ideas require bad solutions</li>
            <li class="fragment">Had no plans to make anything popular</li>
          </ul>

          <aside class="notes">
            Mention Gadu-Gadu
          </aside>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/haha.png" style="border: 0px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/gc.png" style="border: 0px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/gg.png" style="border: 0px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/gg-p.png" style="border: 0px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/lazy.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 45%"/>

          <ul>
            <li>Karafka first release: <span class="hl">Mid 2015</span></li>
            <li>Created out of laziness</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>Simple at first</li>
            <li class="fragment">Started to grow </li>
            <li class="fragment">Became somewhat popular</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">

          <ul>
            <li>Modern applications are expected to do more.</li>
            <li>You need to think big and smart.</li>
          </ul>

<aside class="notes">
          <h4>Introduction / The Evolving Landscape</h4>
          <ul>
            <li>Modern applications are expected to do more, integrate more seamlessly, and scale more efficiently than ever.</li>
            <li>This shift has challenged developers to think big and smart – balancing the richness of features with the codebase's maintainability.</li>
          </ul>
</aside>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            The same applies to Ruby Gems and other libraries.
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Karafka</h5>

          <p>
            <img src="img/cloc.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Sidekiq</h4>

          <p>
            <img src="img/sidekiq.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>

            <small style="font-size: 40%">*tests not included, just code and comments</small>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Zeitwerk</h4>

          <p>
            <img src="img/zeitwerk.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>

            <small style="font-size: 40%">*tests not included, just code and comments</small>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Avo</h4>

          <p>
            <img src="img/avo.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>

            <small style="font-size: 40%">*tests not included, just code and comments</small>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>SolidQueue</h4>

          <p>
            <img src="img/sq.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>

            <small style="font-size: 40%">*tests not included, just code and comments</small>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">

          <p>
            <img src="img/boxes.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 45%;"/>
          </p>
          <h4>Ruby Gems Development Dynamics</h4>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/struggle.jpeg" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 50%;"/>
          </p>

          <h4>Ruby Gems Development Dynamics</h4>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>Rails Influence & Integration</li>
            <li class="fragment">Dependency Management & Self-Reliance</li>
            <li class="fragment">Architectural Foundations for Longevity</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/rails.png" style="border: 0px solid #bcbec0; padding: 10px; background: none; max-width: 70%;"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Rails Dominance in the Ruby OSS Scene</h4>

          <ul>
            <li>Ease of Integration</li>
            <li class="fragment">Tools Versatility</li>
            <li class="fragment">Community Support</li>
            <li class="fragment">Market Reach</li>
            <li class="fragment">Easier UI Creation</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Rails Dominance in the Ruby OSS Scene</h4>

          <ul>
            <li>Version Dependency</li>
            <li class="fragment">Limited Scope</li>
            <li class="fragment">Multi-Version Complexity</li>
          </ul>
        </section>

          <section class="dark" data-background-color="#082a3d">
          <h1>
            Cooperate with Rails
          </h1>

          <h1>Operate Beyond</h1>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>Operating Beyond</h3>

          <ul>
            <li class="fragment">Railtie + Auto Detection</li>
            <li class="fragment">Auto-configuration (plug-and-play)</li>
            <li class="fragment">Concepts Remapping</li>
          </ul>
        </section>

        <section>

<pre style="font-size: 50%"><code data-trim data-noescape>
::Karafka::EVENTS.each do |event_name|
  ::Karafka.monitor.subscribe(event_name) do |event|
    # Align with ActiveSupport::Notifications naming convention
    event = (event_name.split('.').reverse << 'karafka').join('.')

    # Instrument via ActiveSupport
    ::ActiveSupport::Notifications.instrument(
      event_name,
      **event.payload
    )
  end
end
</code></pre>

<pre style="font-size: 50%"><code data-trim data-noescape>
ActiveSupport::Notifications.subscribe(
  'consumed.consumer.karafka'
) do |event|
  Rails.logger.info "[consumer.consumed]: #{event.inspect}"
end
</code></pre>

<aside class="notes">
ActiveSupport::Notifications provides an instrumentation API.
</aside>

        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/boxes2.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 45%;"/>
          </p>

          <h4>Dependency Management & Self-Reliancee</h4>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <h2>Dependency is a liability</h2>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <h2>Your gem dependency is a multi-level liability</h2>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul style="font-size: 80%">
            <li>concurrent-ruby</li>
            <li>dry-configurable</li>
            <li>dry-inflector</li>
            <li>dry-monitor</li>
            <li>dry-validation</li>
            <li>dry-events</li>
            <li>dry-initializer</li>
            <li>dry-schema</li>
            <li>dry-core</li>
            <li>envlogic</li>
            <li>ruby-kafka</li>
            <li>thor</li>
            <li>...</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/all.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 75%;"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue1.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue2.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue3.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue4.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue5.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue6.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue7.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue8.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/issue9.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/think.jpg" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 50%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/chaind.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/deps.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 70%;"/>
          </p>
          <p>
            <small>83% Reduction</small>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/suc.jpg" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>zeitwerk</li>
            <li>concurrent-ruby</li>
            <li>thor</li>
            <li>rake</li>
            <li>ffi</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/z1.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/z2.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/uf.gif" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/thor.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/rage.jpg" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ol>
            <li>Fix it</li>
            <li class="fragment">Ditch it</li>
            <li class="fragment">Ignore it</li>
          </ol>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <h3>
            Minimize your supply chain fingerprint.
          </h3>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>thor => <span class="hl">3622</span> LOC</li>
            <li class="fragment">homebrew limited use-case => 109 LOC</li>
            <li class="fragment"><span class="hl">96.9%</span> less LOC</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>dry-validation + deps => <span class="hl">21053</span> LOC</li>
            <li class="fragment">homebrew limited use-case => <span class="hl">132</span> LOC</li>
            <li class="fragment"><span class="hl">99.4%</span> less LOC</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>Architectural Foundations for Longevity</h3>

          <ul>
            <li class="fragment"><span class="hl">YOLO</span> until validated</li>
            <li class="fragment">Design with the <span class="hl">Future</span> in Mind</li>
            <li class="fragment">Balance Innovation <span class="hl">with</span> Maintainability</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>Design with the Future in Mind</h3>

          <ul>
            <li>Layered Architecture</li>
            <li>Component-Based Architecture</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            <img src="img/onion.png" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 45%"/>
          </p>
          <h5>Layered Architecture</h5>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h5>Layered Architecture</h5>

          <p>
            <img src="img/depsio.svg" style="border: 1px solid #bcbec0; padding: 10px; background: none; max-width: 100%"/>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h5>Component-Based Architecture</h5>

  <pre style="font-size: 40%"><code data-trim data-noescape>
setting :processing do
  setting :jobs_queue_class, default: Processing::JobsQueue
  setting :scheduler_class, default: Processing::Schedulers::Default
  setting :jobs_builder, default: Processing::JobsBuilder.new
  setting :coordinator_class, default: Processing::Coordinator
  setting :partitioner_class, default: Processing::Partitioner
  setting :strategy_selector, default: Processing::StrategySelector.new
  setting :expansions_selector, default: Processing::ExpansionsSelector.new
  setting :executor_class, default: Processing::Executor
end
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h5>Component-Based Architecture</h5>

  <pre style="font-size: 40%"><code data-trim data-noescape>
icfg.processing.coordinator_class = Pro::Processing::Coordinator
icfg.processing.partitioner_class = Pro::Processing::Partitioner
icfg.processing.scheduler_class = Pro::Processing::Schedulers::Default
icfg.processing.jobs_queue_class = Pro::Processing::JobsQueue
icfg.processing.executor_class = Pro::Processing::Executor
icfg.processing.jobs_builder = Pro::Processing::JobsBuilder.new
icfg.processing.strategy_selector = Pro::Processing::StrategySelector.new
icfg.processing.expansions_selector = Pro::Processing::ExpansionsSelector.new
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>Design with the Future in Mind</h3>

          <ul>
            <li class="fragment">Understand Release Cycles and User Adoption</li>
            <li class="fragment">Strategic Release Planning</li>
            <li class="fragment">Backward Compatibility and Predictability</li>
            <li class="fragment">Iterative Feature Development</li>
            <li class="fragment">Method Visibility and Public APIs Design</li>
            <li class="fragment">Documentation and Examples</li>
          </ul>
        </section>

        <section class="dark" data-background-color="#082a3d">
            <h1>Gems are <span class="hl">not</span> the final product</h1>
          </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>Gems are <span class="hl">not</span> applications</li>
            <li class="fragment">Adoption <span class="hl">lags</span> significantly (1-2 years)</li>
            <li class="fragment">Ruby version support <span class="hl">can</span> be critical</li>
          </ul>
        </section>


        <section class="light" data-background-color="#e1dbbd">
          <h3>Strategic Release Planning</h3>

          <ul>
            <li>Developers are <span class="hl">lazy</span></li>
            <li>Release is a <span class="hl">friction</span></li>
          </ul>
        </section>


        <section class="light" data-background-color="#e1dbbd">
          <h3>Backward Compatibility and Predictability</h3>

          <ul>
            <li><span class="hl">Never</span> break APIs without clear reason</li>
            <li><span class="hl">Never</span> break APIs without direct indication</li>
          </ul>
        </section>


        <section class="light" data-background-color="#e1dbbd">
          <h3>Iterative Feature Development</h3>

          <ul>
            <li>First iteration of a feature is almost never perfect</li>
            <li class="fragment">Design for extendability</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
  <pre style="font-size: 50%"><code data-trim data-noescape>
def dead_letter_queue(
  max_retries: 3,
  topic: nil
)
  @dead_letter_queue ||= Config.new(
    active: !topic.nil?,
    max_retries: max_retries,
    topic: topic
  )
end
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
  <pre style="font-size: 50%"><code data-trim data-noescape>
def dead_letter_queue(
  max_retries: 3,
  topic: nil,
  independent: false,
  transactional: true
)
  @dead_letter_queue ||= Config.new(
    active: !topic.nil?,
    max_retries: max_retries,
    topic: topic,
    independent: independent,
    transactional: transactional
  )
end
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Method Visibility and Public APIs Design</h4>

          <ul>
            <li>Your APIs <span class="hl">!=</span> User APIs</li>
            <li>Public vs. Private vs. Protected <span class="hl">won't</span> work</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/prote.svg" style="border: 0px solid #bcbec0; padding: 10px; width: 55%; background: none;"/>
        </section>


        <section class="light" data-background-color="#e1dbbd">

          <h4>Hanami</h4>
  <pre><code data-trim data-noescape>
# @api public
# @since 2.0.0
def app_name
  slice_name
end
  </code></pre>

  <pre><code data-trim data-noescape>
# @return [Hanami::SliceName]
#
# @api private
# @since 2.0.0
attr_reader :app_name
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">

          <h4>Rails</h4>
  <pre><code data-trim data-noescape>
def _protected_ivars
  PROTECTED_IVARS
end
private :_protected_ivars
  </code></pre>

  <pre><code data-trim data-noescape>
def _extract_redirect_to_status(options, response_options)
  if options.is_a?(Hash) && options.key?(:status)
    Rack::Utils.status_code(options.delete(:status))
  elsif response_options.key?(:status)
    Rack::Utils.status_code(response_options[:status])
  else
    302
  end
end
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Karafka</h4>

          <ul>
            <li class="fragment">Too lazy for so many annotations</li>
            <li class="fragment">I do not like the underscore - makes me think</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Karafka</h4>
          <h5>Solid Docs (lol)</h5>

          <img src="img/soliddocs.png" style="border: 1px solid #bcbec0; padding: 10px; width: 70%; background: none;"/>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <h3>
            Not documented?
          </h3>
          <h3>
            Not part of the user API.
          </h3>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Documentation and Examples</h4>

          <ul>
            <li>Usable</li>
            <li class="fragment">Credible</li>
            <li class="fragment">Findable</li>
            <li class="fragment">Useful</li>
            <li class="fragment">Valuable</li>
            <li class="fragment">Accessible</li>
            <li class="fragment">Desirable</li>
          </ul>

          <p>
            <small style="font-size: 50%;">Addy Osmani / https://read-dx.addy.ie/chapter-good-dx</small>
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/gh.png" style="border: 1px solid #bcbec0; padding: 10px; width: 70%; background: none;"/>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>Advanced Considerations</h3>
          <h4>UI/UX & Internal Structures</h4>
        </section>

        <section class="light" data-background-color="#e1dbbd">
<table style="font-size: 100%">
    <tr>
        <th>Gem</th>
        <th>Framework</th>
    </tr>
    <tr>
        <td>Sidekiq</td>
        <td>Custom</td>
    </tr>
    <tr>
        <td>ActiveAdmin</td>
        <td>Rails</td>
    </tr>
    <tr>
        <td>Resque</td>
        <td>Sinatra</td>
    </tr>
    <tr>
        <td>Karafka</td>
        <td>Roda</td>
    </tr>
    <tr>
        <td>MailCatcher</td>
        <td>Sinatra</td>
    </tr>
    <tr>
        <td>Blazer</td>
        <td>Rails</td>
    </tr>
    <tr>
        <td>Ahoy (ahoy_matey)</td>
        <td>Rails</td>
    </tr>
</table>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <p>
            Maintaining data on the user side is <span class="hl">tough</span>
          </p>

          <ul>
            <li>Resets</li>
            <li class="fragment">Tampering</li>
            <li class="fragment">Migration Jumps</li>
            <li class="fragment">Not Reading Any Docs</li>
            <li class="fragment">Not Reading Upgrade Guides</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Schema Is The King</h4>

  <pre><code data-trim data-noescape>
{
  "schema_version": "1.2.2",
  "type": "consumer",
  "dispatched_at": 2690883271.5755131,
  "process": {
    "started_at": 2690818651.8229299,
    "name": "shinra:1:1",
    "status": "running",
    "listeners": {
      "active": 2,
      "standby": 0
    }
}
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Seamless Migrations With Zeitwerk</h4>

  <pre style="font-size: 48%"><code data-trim data-noescape>
class Inflector < Zeitwerk::GemInflector
  MIGRATION_ABSPATH_REGEXP = /migrations\/[0-9]+_(.*)/
  MIGRATION_BASENAME_REGEXP = /\A[0-9]+_(.*)/

  def camelize(basename, abspath)
    return super unless abspath.match?(MIGRATION_ABSPATH_REGEXP)
    return super unless basename.match?(MIGRATION_BASENAME_REGEXP)

    super(
      basename.match(MIGRATION_BASENAME_REGEXP).to_a.last,
      abspath
    )
  end
end

loader.inflector = Inflector.new("#{root}/karafka/web.rb")
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Seamless Migrations With Zeitwerk</h4>

  <pre style="font-size: 48%"><code data-trim data-noescape>
# migrations/1700234522_introduce_waiting_in_consumers_metrics.rb
class IntroduceWaitingInConsumersMetrics < Base
  self.versions_until = '1.1.1'
  self.type = :consumers_metrics

  def migrate(state)
    state[:aggregated].each_value do |metrics|
      metrics.each do |metric|
        metric.last[:waiting] = 0
      end
    end
  end
end
  </code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Zero-Downtime Deployment</h4>

          <ul>
            <li>Multiple Schemas</li>
            <li>Multiple Gem Versions</li>
            <li>Multiple Ruby Versions</li>
            <li>Multiple Rails Versions</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Testing Strategies for Robustness</h4>

          <ul>
            <li>Unit Testing</li>
            <li>End-To-End Integration Testing</li>
            <li>Multiple Ruby and Rails Versions Compatibility</li>
            <li>EOL Testing</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Tests can be a <span class="hl">great</span> form of documentation</h4>


  <pre style="font-size: 48%"><code data-trim data-noescape>
class Consumer < Karafka::BaseConsumer
  def consume
    messages.each do |message|
      DT[0] << message.raw_payload
    end
  end
end

elements = DT.uuids(100)
produce_many(DT.topic, elements)

Karafka::Server.run

assert_equal elements, DT[0]
</code></pre>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <img src="img/lib-spec.png" style="border: 1px solid #bcbec0; padding: 10px; background: none;"/>
        </section>

      <section class="light" data-background-color="#e1dbbd">
        <h4>Multiple Ruby and Rails Versions Compatibility</h4>

<table style="font-size: 70%;">
    <tr>
        <th><strong>Rails / Ruby</strong></th>
        <th><strong>Ruby 2.7</strong></th>
        <th><strong>Ruby 3.0</strong></th>
        <th><strong>Ruby 3.1</strong></th>
        <th><strong>Ruby 3.2</strong></th>
        <th><strong>Ruby 3.3</strong></th>
    </tr>
    <tr>
        <td><strong>Rails 6.0</strong></td>
        <td>6.0 - 2.7</td>
        <td>6.0 - 3.0</td>
        <td>6.0 - 3.1</td>
        <td>6.0 - 3.2</td>
        <td>6.0 - 3.3</td>
    </tr>
    <tr>
        <td><strong>Rails 6.1</strong></td>
        <td>6.1 - 2.7</td>
        <td>6.1 - 3.0</td>
        <td>6.1 - 3.1</td>
        <td>6.1 - 3.2</td>
        <td>6.1 - 3.3</td>
    </tr>
    <tr>
        <td><strong>Rails 7.0</strong></td>
        <td>7.0 - 2.7</td>
        <td>7.0 - 3.0</td>
        <td>7.0 - 3.1</td>
        <td>7.0 - 3.2</td>
        <td>7.0 - 3.3</td>
    </tr>
    <tr>
        <td><strong>Rails 7.1</strong></td>
        <td>7.1 - 2.7</td>
        <td>7.1 - 3.0</td>
        <td>7.1 - 3.1</td>
        <td>7.1 - 3.2</td>
        <td>7.1 - 3.3</td>
    </tr>
</table>

      </section>

        <section class="light" data-background-color="#e1dbbd">
          <h3>
            Summary
          </h3>

          <ul>
    <li>OSS is <span class="hl">fun</span>!</li>
    <li>Maintaining gems <span class="hl">is</span> doable</li>
    <li>OSS <span class="hl">connects</span></li>
    <li>Innovation does <span class="hl">not</span> contradict maintainability</li>
</ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h2>Thank you</h2>

          <p>
            For more details, find me on Twitter:
          </p>

          <ul style="list-style: none">
            <li>@<span class="hl">maciejmensfeld</span></li>
          </ul>

          <p>
            ⭐ github.com/karafka/karafka 🙏
          </p>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h2>Extras</h2>
        </section>


        <section class="light" data-background-color="#e1dbbd">
          <h4>Telemetry, Security, & User Feedback</h4>

          <ul>
            <li>Consent-Based Telemetry in OSS</li>
            <li>Legal Implications of Data Extraction</li>
            <li>Security Risks of Telemetry</li>
            <li>Complexity in Commercial Agreements</li>
            <li>GDPR Considerations for Gem Authors</li>
            <li>User Feedback as a Non-Invasive Alternative</li>
          </ul>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <h4>Forward-Thinking Practices & Legal Aspects</h4>

          <ul>
            <li>Licensing & Relicencing</li>
            <li>Contributor License Agreement</li>
          </ul>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <h2>License can be a problem</h2>
        </section>

        <section class="light" data-background-color="#e1dbbd">
          <ul>
            <li>You can always relicense your code</li>
            <li class="fragment">You may not be able to relicense contributions</li>
          </ul>
        </section>

        <section class="dark" data-background-color="#082a3d">
          <h2>Contributor License Agreement Can Be Critical</h2>
        </section>

      </div>

      <div class='logo'>
         <img src="img/logo.png" style="width: 10%; display: none;"/>
      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        history: true,
        //slideNumber: 'c/t',
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
